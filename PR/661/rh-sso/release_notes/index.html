<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" class="chrometwo"><head><title>Release Notes</title><link rel="stylesheet" type="text/css" href="Common_Content/css/default.css"/><meta name="generator" content="publican v4.3.4"/><meta name="description" content="This guide consists of release notes for Red Hat Single Sign-On Continuous Delivery"/><link rel="next" href="#red_hat_single_sign_on_continuous_delivery_6" title="Chapter 1. Red Hat Single Sign-On Continuous Delivery 6"/><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><script type="text/javascript" src="Common_Content/scripts/jquery-1.7.1.min.js"> </script><script type="text/javascript" src="Common_Content/scripts/utils.js"> </script><script type="text/javascript" src="Common_Content/scripts/highlight.js/highlight.pack.js"> </script></head><body><div id="chrometwo"><div id="main"><div xml:lang="en-US" class="book" id="idm140489719720112"><div class="titlepage"><div><div class="producttitle"><span class="productname">Red Hat Single Sign-On Continuous Delivery</span> <span class="productnumber">6</span></div><div><h1 class="title">Release Notes</h1></div><div><h2 class="subtitle">For Use with Red Hat Single Sign-On Continuous Delivery 6</h2></div><div><div xml:lang="en-US" class="authorgroup"><span class="orgname">Red Hat Customer Content Services</span></div></div><div><a href="#idm140489717210624">Legal Notice</a></div><div><div class="abstract"><p class="title"><strong>Abstract</strong></p><div class="para">
				This guide consists of release notes for Red Hat Single Sign-On Continuous Delivery
			</div></div></div></div><hr/></div><div class="toc"><ul class="toc"><li><span class="chapter"><a href="#red_hat_single_sign_on_continuous_delivery_6">1. Red Hat Single Sign-On Continuous Delivery 6</a></span><ul><li><span class="section"><a href="#wildfly_16_upgrade">1.1. WildFly 16 Upgrade</a></span><ul><li><span class="section"><a href="#smallrye_health_and_metrics_extensions">1.1.1. SmallRye Health and Metrics extensions</a></span></li></ul></li><li><span class="section"><a href="#ps256_support">1.2. PS256 support</a></span></li><li><span class="section"><a href="#mp_jwt_client_scope">1.3. MP-JWT Client Scope</a></span></li></ul></li><li><span class="chapter"><a href="#red_hat_single_sign_on_continuous_delivery_7_3_cd05">2. Red Hat Single Sign-On Continuous Delivery 7.3.CD05</a></span><ul><li><span class="section"><a href="#wildfly_15_upgrade">2.1. WildFly 15 Upgrade</a></span></li><li><span class="section"><a href="#openshift_integration">2.2. OpenShift Integration</a></span></li><li><span class="section"><a href="#support_for_db2_removed">2.3. Support for DB2 removed</a></span></li><li><span class="section"><a href="#enhanced_remember_me">2.4. Enhanced Remember Me</a></span></li><li><span class="section"><a href="#pagination_support_for_groups">2.5. Pagination support for Groups</a></span></li><li><span class="section"><a href="#improve_startup_time_with_large_number_of_offline_sessions">2.6. Improve startup time with large number of offline sessions</a></span></li></ul></li><li><span class="chapter"><a href="#red_hat_single_sign_on_continuous_delivery_7_3_cd04">3. Red Hat Single Sign-On Continuous Delivery 7.3.CD04</a></span><ul><li><span class="section"><a href="#signature_spi">3.1. Signature SPI</a></span></li><li><span class="section"><a href="#new_signature_algorithms">3.2. New Signature Algorithms</a></span></li><li><span class="section"><a href="#better_audience_support_for_openid_connect_clients">3.3. Better Audience Support for OpenID Connect clients</a></span></li><li><span class="section"><a href="#minor_improvements">3.4. Minor improvements</a></span></li><li><span class="section"><a href="#authorization_services_support_in_node_js">3.5. Authorization Services support in Node.js</a></span></li><li><span class="section"><a href="#minor_improvements_2">3.6. Minor improvements</a></span></li></ul></li><li><span class="chapter"><a href="#red_hat_single_sign_on_continuous_delivery_7_3_cd03">4. Red Hat Single Sign-On Continuous Delivery 7.3.CD03</a></span><ul><li><span class="section"><a href="#hostname_spi">4.1. Hostname SPI</a></span></li><li><span class="section"><a href="#x509_client_authenticator">4.2. X509 Client Authenticator</a></span></li><li><span class="section"><a href="#performance_improvements_to_authorization_services">4.3. Performance improvements to Authorization Services</a></span></li><li><span class="section"><a href="#choosing_the_response_mode_when_obtaining_permissions_from_the_server">4.4. Choosing the response mode when obtaining permissions from the server</a></span></li><li><span class="section"><a href="#nodejs_policy_enforcer">4.5. NodeJS Policy Enforcer</a></span></li><li><span class="section"><a href="#support_hosted_domain_for_google_logins">4.6. Support hosted domain for Google logins</a></span></li><li><span class="section"><a href="#escape_unsafe_tags_in_html_output">4.7. Escape unsafe tags in HTML output</a></span></li><li><span class="section"><a href="#browser_tab_support_for_cordova">4.8. Browser tab support for Cordova</a></span></li><li><span class="section"><a href="#saml_adapter_multitenancy_support">4.9. SAML adapter multitenancy support</a></span></li><li><span class="section"><a href="#an_option_to_create_claims_with_dots_in_them">4.10. An option to create claims with dots (.) in them</a></span></li><li><span class="section"><a href="#making_spring_boot_2_the_default_starter">4.11. Making Spring Boot 2 the default starter</a></span></li></ul></li><li><span class="chapter"><a href="#red_hat_single_sign_on_continuous_delivery_7_3_cd02">5. Red Hat Single Sign-On Continuous Delivery 7.3.CD02</a></span><ul><li><span class="section"><a href="#client_scopes_and_support_for_oauth_2_scope_parameter">5.1. Client Scopes and support for OAuth 2 scope parameter</a></span></li><li><span class="section"><a href="#oauth_2_certificate_bound_access_tokens">5.2. OAuth 2 Certificate Bound Access Tokens</a></span></li><li><span class="section"><a href="#authorization_services">5.3. Authorization Services</a></span><ul><li><span class="section"><a href="#uma_2_0_support">5.3.1. UMA 2.0 Support</a></span></li><li><span class="section"><a href="#pushed_claims">5.3.2. Pushed Claims</a></span></li><li><span class="section"><a href="#resource_attributes">5.3.3. Resource Attributes</a></span></li><li><span class="section"><a href="#policy_enforcer_now_accepts_regular_access_tokens">5.3.4. Policy enforcer now accepts regular access tokens</a></span></li><li><span class="section"><a href="#policy_enforcer_can_now_load_resources_from_the_server_on_demand">5.3.5. Policy enforcer can now load resources from the server on-demand</a></span></li><li><span class="section"><a href="#policy_enforcer_now_supports_configuring_the_resource_cache">5.3.6. Policy enforcer now supports configuring the resource cache</a></span></li><li><span class="section"><a href="#claim_information_points">5.3.7. Claim Information Points</a></span></li><li><span class="section"><a href="#improvements_to_the_evaluation_api">5.3.8. Improvements to the Evaluation API</a></span></li></ul></li><li><span class="section"><a href="#authorization_services_2">5.4. Authorization Services</a></span><ul><li><span class="section"><a href="#uma_2_0">5.4.1. UMA 2.0</a></span></li><li><span class="section"><a href="#pushed_claims_2">5.4.2. Pushed Claims</a></span></li><li><span class="section"><a href="#resource_attributes_2">5.4.3. Resource Attributes</a></span></li></ul></li><li><span class="section"><a href="#themes_and_theme_resources">5.5. Themes and Theme Resources</a></span></li><li><span class="section"><a href="#instagram_identity_provider">5.6. Instagram Identity Provider</a></span></li><li><span class="section"><a href="#search_by_user_id_in_admin_console">5.7. Search by User ID in Admin Console</a></span></li><li><span class="section"><a href="#adapters">5.8. Adapters</a></span><ul><li><span class="section"><a href="#spring_boot_2">5.8.1. Spring Boot 2</a></span></li><li><span class="section"><a href="#fuse_7">5.8.2. Fuse 7</a></span></li><li><span class="section"><a href="#javascript_native_promise_support">5.8.3. JavaScript - Native Promise Support</a></span></li><li><span class="section"><a href="#javascript_cordova_options">5.8.4. JavaScript - Cordova Options</a></span></li></ul></li></ul></li></ul></div><section class="chapter" id="red_hat_single_sign_on_continuous_delivery_6"><div class="titlepage"><div><div><h1 class="title">Chapter 1. Red Hat Single Sign-On Continuous Delivery 6</h1></div></div></div><section class="section" id="wildfly_16_upgrade"><div class="titlepage"><div><div><h2 class="title">1.1. WildFly 16 Upgrade</h2></div></div></div><p>
				Keycloak server was upgraded to use WildFly 16 under the covers.
			</p><section class="section" id="smallrye_health_and_metrics_extensions"><div class="titlepage"><div><div><h3 class="title">1.1.1. SmallRye Health and Metrics extensions</h3></div></div></div><p>
					Keycloak now comes enabled with the SmallRye Health and Metrics extensions which provides standard health and metrics endpoints. We will add some documentation as well as Keycloak specific metrics soon.
				</p></section></section><section class="section" id="ps256_support"><div class="titlepage"><div><div><h2 class="title">1.2. PS256 support</h2></div></div></div><p>
				Thanks to <a class="link" href="https://github.com/tnorimat">tnorimat</a> Keycloak now has support for signing and verifying tokens with PS256.
			</p></section><section class="section" id="mp_jwt_client_scope"><div class="titlepage"><div><div><h2 class="title">1.3. MP-JWT Client Scope</h2></div></div></div><p>
				New built-in client scope to make it easy to issue tokens following the Eclipse MicroProfile specification.
			</p></section></section><section class="chapter" id="red_hat_single_sign_on_continuous_delivery_7_3_cd05"><div class="titlepage"><div><div><h1 class="title">Chapter 2. Red Hat Single Sign-On Continuous Delivery 7.3.CD05</h1></div></div></div><section class="section" id="wildfly_15_upgrade"><div class="titlepage"><div><div><h2 class="title">2.1. WildFly 15 Upgrade</h2></div></div></div><p>
				Keycloak server was upgraded to use WildFly 15 under the covers.
			</p></section><section class="section" id="openshift_integration"><div class="titlepage"><div><div><h2 class="title">2.2. OpenShift Integration</h2></div></div></div><p>
				It is now possible to fully secure OpenShift 3.11 with Red Hat Single Sign-On, including the ability to automatically expose Service Accounts as OAuth clients as clients to Red Hat Single Sign-On.
			</p><p>
				This is currently a technology preview feature.
			</p></section><section class="section" id="support_for_db2_removed"><div class="titlepage"><div><div><h2 class="title">2.3. Support for DB2 removed</h2></div></div></div><p>
				DB2 support has been deprecated for a while. With this release we have removed all support for DB2.
			</p></section><section class="section" id="enhanced_remember_me"><div class="titlepage"><div><div><h2 class="title">2.4. Enhanced Remember Me</h2></div></div></div><p>
				Introduced the ability to specify different session idle and max timeouts for remember me sessions. This enables remember me sessions to live longer than regular sessions.
			</p></section><section class="section" id="pagination_support_for_groups"><div class="titlepage"><div><div><h2 class="title">2.5. Pagination support for Groups</h2></div></div></div><p>
				Large numbers of groups have previously caused issues in the admin console. This is now resolved by the introduction of pagination of groups.
			</p></section><section class="section" id="improve_startup_time_with_large_number_of_offline_sessions"><div class="titlepage"><div><div><h2 class="title">2.6. Improve startup time with large number of offline sessions</h2></div></div></div><p>
				In the past, starting the server could take a long time if there were many offline sessions. This startup time has now been significantly reduced.
			</p></section></section><section class="chapter" id="red_hat_single_sign_on_continuous_delivery_7_3_cd04"><div class="titlepage"><div><div><h1 class="title">Chapter 3. Red Hat Single Sign-On Continuous Delivery 7.3.CD04</h1></div></div></div><section class="section" id="signature_spi"><div class="titlepage"><div><div><h2 class="title">3.1. Signature SPI</h2></div></div></div><p>
				The Signature SPI makes it possible to plug-in additional signature algorithms. This enables additional signatures and also enables changing how signatures are generated. For example, using this allows using an HSM device to sign tokens.
			</p><p>
				Thanks to <a class="link" href="https://github.com/tnorimat">tnorimat</a> for contributing a signficant part of this work.
			</p></section><section class="section" id="new_signature_algorithms"><div class="titlepage"><div><div><h2 class="title">3.2. New Signature Algorithms</h2></div></div></div><p>
				Alongside the Signature SPI there is now also support for additional signature algorithms.
			</p><p>
				Keycloak now has support for RS256, RS384, RS512, ES256, ES384, ES512, HS256, HS384 and HS512.
			</p><p>
				Elliptic Curve Digital Signature Algorithm (ES256/384/512) are very interesting as they provide similar security properties as RSA signatures, but use significantly less CPU.
			</p><p>
				HMAC (HS256/384/512) are also very useful when you do not want your application to verify the signature itself. Since these are symmetric signatures only Keycloak is able to verify the signature, which requires the application to use the token introspection endpoint to verify tokens.
			</p><p>
				Thanks to <a class="link" href="https://github.com/tnorimat">tnorimat</a> for contributing a signficant part of this work.
			</p></section><section class="section" id="better_audience_support_for_openid_connect_clients"><div class="titlepage"><div><div><h2 class="title">3.3. Better Audience Support for OpenID Connect clients</h2></div></div></div><p>
				It is now possible to specify the audiences in the tokens issued for OpenID Connect clients. There is also support for verification of audience on the adapter side.
			</p></section><section class="section" id="minor_improvements"><div class="titlepage"><div><div><h2 class="title">3.4. Minor improvements</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Added LocaleSelector SPI, which allows to change the way how the locale will be resolved for a particular request. Thanks to <a class="link" href="https://github.com/knutz3n">knutz3n</a>
					</li><li class="listitem">
						Added an authenticator to automatically link Identity Provider identity to an existing account after first Idp authentication. Thanks to <a class="link" href="https://github.com/slominskir">slominskir</a>
					</li></ul></div></section><section class="section" id="authorization_services_support_in_node_js"><div class="titlepage"><div><div><h2 class="title">3.5. Authorization Services support in Node.js</h2></div></div></div><p>
				Having authorization services support in Node.js makes it very easy to do fine-grained central authorization with the Node.js adapter.
			</p></section><section class="section" id="minor_improvements_2"><div class="titlepage"><div><div><h2 class="title">3.6. Minor improvements</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
						Update design for the welcome page
					</li><li class="listitem">
						Allow passing current locale to OAuth2 IdPs. Thanks to <a class="link" href="https://github.com/knutz3n">knutz3n</a>
					</li><li class="listitem">
						Support Content-Security-Policy-Report-Only security header. Thanks to <a class="link" href="https://github.com/knutz3n">knutz3n</a>
					</li><li class="listitem">
						Script based ProtocolMapper for SAML. Thanks to <a class="link" href="https://github.com/AlistairDoswald">AlistairDoswald</a>
					</li></ul></div></section></section><section class="chapter" id="red_hat_single_sign_on_continuous_delivery_7_3_cd03"><div class="titlepage"><div><div><h1 class="title">Chapter 4. Red Hat Single Sign-On Continuous Delivery 7.3.CD03</h1></div></div></div><section class="section" id="hostname_spi"><div class="titlepage"><div><div><h2 class="title">4.1. Hostname SPI</h2></div></div></div><p>
				The hostname SPI introduces a more flexible way to configure the hostname for Red Hat Single Sign-On. There are two built-in providers. The first is request, which uses the request headers to determine the hostname. The second is fixed, which allows configuring a fixed hostname. The latter makes sure that only valid hostnames can be used and also allows internal applications to invoke Red Hat Single Sign-On through an alternative URL.
			</p><p>
				For more details refer to the threat mitigation section in the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_single_sign-on_continuous_delivery/6/html-single/server_administration_guide/">Server Administration Guide</a>.
			</p></section><section class="section" id="x509_client_authenticator"><div class="titlepage"><div><div><h2 class="title">4.2. X509 Client Authenticator</h2></div></div></div><p>
				The newly added Client Authenticator uses X509 Client Certificates and Mutual TLS to secure a connection from the client. In addition to that the Keycloak Server validates Subject DN field of the client’s certificate.
			</p></section><section class="section" id="performance_improvements_to_authorization_services"><div class="titlepage"><div><div><h2 class="title">4.3. Performance improvements to Authorization Services</h2></div></div></div><p>
				For this release, we improved policy evaluation performance across the board, increasing reliability and throughput. The main changes we did were related with trying to optimize the policy evaluation path by avoiding unnecessary flows and collect decisions as soon as they happen. We also introduced a policy decision cache on a per request basis, avoiding redundant decisions from policies previously evaluated.
			</p><p>
				We are also working on other layers of cache which should give a much better experience. See <a class="link" href="https://issues.jboss.org/browse/KEYCLOAK-7952">KEYCLOAK-7952</a>.
			</p></section><section class="section" id="choosing_the_response_mode_when_obtaining_permissions_from_the_server"><div class="titlepage"><div><div><h2 class="title">4.4. Choosing the response mode when obtaining permissions from the server</h2></div></div></div><p>
				In previous versions, permissions were always returned from the server using standard OAuth2 response, containing the access and refresh tokens. In this release, clients can use a <code class="literal">response_mode</code> parameter to specify how the server should respond to an authorization request. This parameter accepts two values:
			</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem"><p class="simpara">
						<code class="literal">decision</code>
					</p><p class="simpara">
						Indicating that responses should only contain a flag indicating whether or not permissions were granted by the server. Otherwise a <code class="literal">403</code> HTTP status code is returned.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">permissions</code>
					</p><p class="simpara">
						Indicating that a response should contain every single permission granted by the server using a JSON format.
					</p></li></ul></div></section><section class="section" id="nodejs_policy_enforcer"><div class="titlepage"><div><div><h2 class="title">4.5. NodeJS Policy Enforcer</h2></div></div></div><p>
				The <a class="link" href="https://github.com/keycloak/keycloak-nodejs-connect">keycloak-nodejs-connect</a>, an adapter for NodeJS, now supports constructs to protect resources based on decisions taken from the server. The new construct allows users to protect their resources using fine-grained permissions as follows:
			</p><pre class="programlisting language-js">app.get('/protected/resource', keycloak.enforcer('resource:view'), function (req, res) {
  res.json({message: 'access granted'});
});</pre></section><section class="section" id="support_hosted_domain_for_google_logins"><div class="titlepage"><div><div><h2 class="title">4.6. Support hosted domain for Google logins</h2></div></div></div><p>
				Login with Google now supports the <code class="literal">hd</code> parameter to restrict Google logins to a specific hosted domain at Google. When this is specified in the identity provider any login from a different domain is rejected.
			</p><p>
				Thanks to <a class="link" href="https://github.com/brushmate">brushmate</a> for the contribution.
			</p></section><section class="section" id="escape_unsafe_tags_in_html_output"><div class="titlepage"><div><div><h2 class="title">4.7. Escape unsafe tags in HTML output</h2></div></div></div><p>
				Most HTML output is already escaped for HTML tags, but there are some places where HTML tags are permitted. These are only where admin access is needed to update the value. Even though it would require admin access to update such fields we have added an extra layer of defence and are now escaping unsafe elements like <code class="literal">&lt;script&gt;</code>.
			</p></section><section class="section" id="browser_tab_support_for_cordova"><div class="titlepage"><div><div><h2 class="title">4.8. Browser tab support for Cordova</h2></div></div></div><p>
				We now have support for using browser tab and universal links in the JavaScript adapter for Cordova. This enables SSO between multiple applications as well as increases security.
			</p><p>
				Thanks to <a class="link" href="https://github.com/gtudan">gtudan</a> for the contribution.
			</p></section><section class="section" id="saml_adapter_multitenancy_support"><div class="titlepage"><div><div><h2 class="title">4.9. SAML adapter multitenancy support</h2></div></div></div><p>
				The SAML adapter can support multi-tenancy now just like the built in adapter for OpenID Connect.
			</p></section><section class="section" id="an_option_to_create_claims_with_dots_in_them"><div class="titlepage"><div><div><h2 class="title">4.10. An option to create claims with dots (.) in them</h2></div></div></div><p>
				In previous versions, it was not possible to create claims in the token using a claim name containing a dot (.) character. Now it is possible to escape the dot character in the configuration, so a claim name with the dot character can be used.
			</p></section><section class="section" id="making_spring_boot_2_the_default_starter"><div class="titlepage"><div><div><h2 class="title">4.11. Making Spring Boot 2 the default starter</h2></div></div></div><p>
				Starting with release 4.1, the Spring Boot starter will be based on the Spring Boot 2 adapter. If you are using an older Spring Boot version, the keycloak-legacy-spring-boot-starter is available.
			</p></section></section><section class="chapter" id="red_hat_single_sign_on_continuous_delivery_7_3_cd02"><div class="titlepage"><div><div><h1 class="title">Chapter 5. Red Hat Single Sign-On Continuous Delivery 7.3.CD02</h1></div></div></div><section class="section" id="client_scopes_and_support_for_oauth_2_scope_parameter"><div class="titlepage"><div><div><h2 class="title">5.1. Client Scopes and support for OAuth 2 scope parameter</h2></div></div></div><p>
				We added support for Client Scopes, which replaces Client Templates. Client Scopes are a more flexible approach and also provides better support for the OAuth <code class="literal">scope</code> parameter.
			</p><p>
				There are changes related to Client Scopes to the consent screen. The list on the consent screen is now linked to client scopes instead of protocol mappers and roles.
			</p><p>
				See the documentation and migration guide for more details.
			</p></section><section class="section" id="oauth_2_certificate_bound_access_tokens"><div class="titlepage"><div><div><h2 class="title">5.2. OAuth 2 Certificate Bound Access Tokens</h2></div></div></div><p>
				We now have a partial implementation of the specification <a class="link" href="https://tools.ietf.org/html/draft-ietf-oauth-mtls-08">OAuth 2.0 Mutual TLS Client Authentication and Certificate Bound Access Tokens</a> . More accurately we have support for the Certificate Bound Access Tokens. If your confidential client is able to use 2-way SSL, Red Hat Single Sign-On will be able to add the hash of the client certificate into the tokens issued for the client. At this moment, it’s just the Red Hat Single Sign-On itself, which verifies the token hashes (for example during <code class="literal">refresh token</code> requests). We plan to add support to adapters as well. We also plan to add support for Mutual TLS Client Authentication.
			</p><p>
				Thanks to <a class="link" href="https://github.com/tnorimat">tnorimat</a> for the contribution.
			</p></section><section class="section" id="authorization_services"><div class="titlepage"><div><div><h2 class="title">5.3. Authorization Services</h2></div></div></div><section class="section" id="uma_2_0_support"><div class="titlepage"><div><div><h3 class="title">5.3.1. UMA 2.0 Support</h3></div></div></div><p>
					UMA 2.0 is now supported for Authorization Services. Check the documentation for more details if you are coming from previous versions of Red Hat Single Sign-On.
				</p><section class="section" id="user_managed_access_through_the_red_hat_single_sign_on_account_service"><div class="titlepage"><div><div><h4 class="title">5.3.1.1. User-Managed Access through the Red Hat Single Sign-On Account Service</h4></div></div></div><p>
						Now end-users are able to manage their resources and the permissions associated with them through the Red Hat Single Sign-On Account Service. From there, resource owners can now check their resources, share resources with another users as well approve requests from other users.
					</p></section><section class="section" id="asynchronous_authorization_flow"><div class="titlepage"><div><div><h4 class="title">5.3.1.2. Asynchronous Authorization Flow</h4></div></div></div><p>
						When using UMA, client applications can now choose whether or not an authorization request should start an authorization flow to ask for the resource owner approval. This functionality allows applications to ask for resource owner approval when trying to access one of his resources on behalf of another user.
					</p></section><section class="section" id="user_managed_permission_api"><div class="titlepage"><div><div><h4 class="title">5.3.1.3. User-Managed Permission API</h4></div></div></div><p>
						Resource servers are now capable of associating additional policies to resources owned by a particular user. The new API provides operations to manage these permissions using different policy types such as role, group, user, client or a condition using JavaScript.
					</p></section></section><section class="section" id="pushed_claims"><div class="titlepage"><div><div><h3 class="title">5.3.2. Pushed Claims</h3></div></div></div><p>
					Clients applications are now able to send arbitrary claims to Red Hat Single Sign-On along with an authorization request in order to evaluate permissions based on these claims. This is a very handy addition when access should be granted (or denied) in the scope of a specific transaction or based on information about the runtime.
				</p></section><section class="section" id="resource_attributes"><div class="titlepage"><div><div><h3 class="title">5.3.3. Resource Attributes</h3></div></div></div><p>
					It is now possible to associated attributes with resources protected by Red Hat Single Sign-On and use these same attributes to evaluate permissions from your policies.
				</p></section><section class="section" id="policy_enforcer_now_accepts_regular_access_tokens"><div class="titlepage"><div><div><h3 class="title">5.3.4. Policy enforcer now accepts regular access tokens</h3></div></div></div><p>
					In some situations, you may want to just send regular access tokens to a resource server but still be able to enforce policies on these resources.
				</p><p>
					One of the main changes introduced by this release is that you are no longer required to exchange access tokens with RPTs in order to access resources protected by a resource server (when not using UMA). Depending on how the policy enforcer is configured on the resource server side, you can just send regular access tokens as a bearer token and permissions will still be enforced.
				</p></section><section class="section" id="policy_enforcer_can_now_load_resources_from_the_server_on_demand"><div class="titlepage"><div><div><h3 class="title">5.3.5. Policy enforcer can now load resources from the server on-demand</h3></div></div></div><p>
					Until now, when deploying an application configured with a <code class="literal">policy-enforcer</code>, the policy enforcer would either load all protected paths from the server or just map these paths from the adapter configuration. Users can now decide to load paths on-demand from the server and avoid map these resources in the adapter configuration. Depending on how many protected resources you have this functionality can also improve the time to deploy an application.
				</p></section><section class="section" id="policy_enforcer_now_supports_configuring_the_resource_cache"><div class="titlepage"><div><div><h3 class="title">5.3.6. Policy enforcer now supports configuring the resource cache</h3></div></div></div><p>
					In order to avoid unnecessary hits to the server, the policy enforcer caches the mapping between protected resources and their corresponding paths in your application. Users can now configure the behaviour of the cache or even completely disable it.
				</p></section><section class="section" id="claim_information_points"><div class="titlepage"><div><div><h3 class="title">5.3.7. Claim Information Points</h3></div></div></div><p>
					The <code class="literal">policy-enforcer</code> definition on the adapters (<code class="literal">keycloak.json</code>) was also updated to support the concept of pushed claims. There you have the concept of a <code class="literal">claim-information-point</code> which can be set to push claims from different sources such as the HTTP request or even from an external HTTP service.
				</p></section><section class="section" id="improvements_to_the_evaluation_api"><div class="titlepage"><div><div><h3 class="title">5.3.8. Improvements to the Evaluation API</h3></div></div></div><p>
					The Evaluation API used to implement policies in Red Hat Single Sign-On, especially JavaScript and Drools policies, provides now methods to:
				</p><div class="itemizedlist"><ul class="itemizedlist" type="disc"><li class="listitem">
							Access information from the current realm such as check for user roles, groups and attributes
						</li><li class="listitem">
							Push back arbitrary claims to the resource server in order to provide additional information on how a specific permissions should be enforced
						</li></ul></div></section></section><section class="section" id="authorization_services_2"><div class="titlepage"><div><div><h2 class="title">5.4. Authorization Services</h2></div></div></div><section class="section" id="uma_2_0"><div class="titlepage"><div><div><h3 class="title">5.4.1. UMA 2.0</h3></div></div></div><p>
					UMA 2.0 is now supported for Authorization Services, including support for users to manage user access through the account management console. There are also other additions and improvements to authorization services.
				</p></section><section class="section" id="pushed_claims_2"><div class="titlepage"><div><div><h3 class="title">5.4.2. Pushed Claims</h3></div></div></div><p>
					Clients can now push additional claims and have them used by policies when evaluating permissions.
				</p></section><section class="section" id="resource_attributes_2"><div class="titlepage"><div><div><h3 class="title">5.4.3. Resource Attributes</h3></div></div></div><p>
					It is now possible to define attributes on resources in order to have them used by policies when evaluating permissions.
				</p></section></section><section class="section" id="themes_and_theme_resources"><div class="titlepage"><div><div><h2 class="title">5.5. Themes and Theme Resources</h2></div></div></div><p>
				It is now possible to hot-deploy themes to Keycloak through a regular provider deployment. We have also added support for theme resources, which allows adding additional templates and resources without creating a theme. This is useful for custom authenticators that require additional pages to be added to the authentication flow.
			</p><p>
				We have also added support to override the theme for specific clients. If that is not adequate for your needs, then there is also a new Theme Selector SPI that allows you to implement custom logic to select the theme.
			</p></section><section class="section" id="instagram_identity_provider"><div class="titlepage"><div><div><h2 class="title">5.6. Instagram Identity Provider</h2></div></div></div><p>
				We have added support to login with Instagram. Thanks to <a class="link" href="https://github.com/hguerrero">hguerrero</a> for the contribution.
			</p></section><section class="section" id="search_by_user_id_in_admin_console"><div class="titlepage"><div><div><h2 class="title">5.7. Search by User ID in Admin Console</h2></div></div></div><p>
				To search for a user by id in the admin console you previously had to edit the URL. It is now possible to search directly in the user search field.
			</p></section><section class="section" id="adapters"><div class="titlepage"><div><div><h2 class="title">5.8. Adapters</h2></div></div></div><section class="section" id="spring_boot_2"><div class="titlepage"><div><div><h3 class="title">5.8.1. Spring Boot 2</h3></div></div></div><p>
					We now have support for Spring Boot 2.
				</p></section><section class="section" id="fuse_7"><div class="titlepage"><div><div><h3 class="title">5.8.2. Fuse 7</h3></div></div></div><p>
					We now have support for Fuse 7.
				</p></section><section class="section" id="javascript_native_promise_support"><div class="titlepage"><div><div><h3 class="title">5.8.3. JavaScript - Native Promise Support</h3></div></div></div><p>
					The JavaScript adapter now supports native promises. It retains support for the old style promises as well. Both can be used interchangeably.
				</p></section><section class="section" id="javascript_cordova_options"><div class="titlepage"><div><div><h3 class="title">5.8.4. JavaScript - Cordova Options</h3></div></div></div><p>
					It is now possible to pass Cordova-specific options to login and other methods in the JavaScript adapter. Thanks to <a class="link" href="https://github.com/looorent">loorent</a> for the contribution.
				</p></section></section></section><div><div xml:lang="en-US" class="legalnotice" id="idm140489717210624"><h1 class="legalnotice">Legal Notice</h1><div class="para">
				Copyright <span class="trademark"/>© 2019 Red Hat, Inc.
			</div><div class="para">
				Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You may obtain a copy of the License at
			</div><div class="para">
				<a class="ulink" href="http://www.apache.org/licenses/LICENSE-2.0"> http://www.apache.org/licenses/LICENSE-2.0</a>
			</div><div class="para">
				Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.
			</div></div></div></div></div></div><script type="text/javascript">
                        jQuery(document).ready(function() {
                            initSwitchery();
                            jQuery('pre[class*="language-"]').each(function(i, block){hljs.highlightBlock(block);});
                        });
                    </script></body></html>